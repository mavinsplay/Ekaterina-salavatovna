{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Chat MVP</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#fff9f3;
  --accent:#f5852f;
  --accent-2:#ffb96b;
  --muted:#8d6b4a;
  --card:#fff3ea;
  --bubble-user:#ffdcb3;
  --bubble-bot:#ff9f4d;
  --radius:20px;
  --shadow: 0 8px 30px rgba(18,18,18,0.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  background: linear-gradient(180deg,#fffaf7 0%,var(--bg) 100%);
  color:#2b2b2b;
  padding:36px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.container{
  width:100%;
  max-width:1100px;
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,252,249,0.95));
  border-radius:22px;
  padding:30px;
  display:grid;
  grid-template-columns:1fr 380px;
  gap:28px;
  box-shadow: var(--shadow);
  align-items:center;
}

/* LEFT: chat area */
.left {
  display:flex;
  flex-direction:column;
  gap:18px;
}

h1{
  margin:0;
  font-size:40px;
  font-weight:800;
  color:#241f1a;
  line-height:1.02;
}

.lead{
  margin:0;
  color:var(--muted);
  font-size:16px;
  max-width:66ch;
}

/* Chat card */
.chat-card{
  background: linear-gradient(180deg,#fff7ef 0%, #fff0e5 100%);
  border-radius:16px;
  padding:18px;
  box-shadow: 0 6px 18px rgba(245,133,47,0.06);
  display:flex;
  flex-direction:column;
  height:420px;
  overflow:hidden;
}

/* messages area */
.messages{
  flex:1;
  overflow:auto;
  padding-right:8px;
  display:flex;
  flex-direction:column;
  gap:10px;
  scroll-behavior:smooth;
}

/* bubble styles */
.message{
  display:inline-block;
  padding:10px 14px;
  border-radius:14px;
  max-width:78%;
  font-size:15px;
  line-height:1.35;
  box-shadow: 0 4px 16px rgba(0,0,0,0.04);
  white-space:pre-wrap;
  word-break:break-word;
}

.message.assistant{
  background: linear-gradient(180deg,var(--bubble-bot), #ff9240);
  color:#2b2b2b;
  align-self:flex-start;
  border-top-left-radius:6px;
  transform-origin:left center;
  animation: pop .18s ease;
}

.message.user{
  background: var(--bubble-user);
  align-self:flex-end;
  color:#2b2b2b;
  border-top-right-radius:6px;
  animation: pop .18s ease;
}

@keyframes pop {
  from { transform: translateY(6px) scale(0.98); opacity:0 }
  to   { transform: translateY(0) scale(1); opacity:1 }
}

/* typing indicator (three dots) */
.typing {
  width:58px;
  padding:8px 12px;
  border-radius:14px;
  background:rgba(255,255,255,0.12);
  display:inline-flex;
  gap:6px;
  align-items:center;
}

.typing span{
  width:8px;
  height:8px;
  background:white;
  border-radius:50%;
  opacity:0.6;
  transform: translateY(0);
  animation: blink 1s infinite;
}
.typing span:nth-child(2){ animation-delay: 0.15s }
.typing span:nth-child(3){ animation-delay: 0.3s }

@keyframes blink{
  0% { transform: translateY(0); opacity:0.4 }
  50% { transform: translateY(-6px); opacity:1 }
  100% { transform: translateY(0); opacity:0.4 }
}

/* input area */
.input-area{
  display:flex;
  gap:10px;
  margin-top:12px;
}
.input-area input{
  flex:1;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid rgba(0,0,0,0.06);
  background:white;
  font-size:15px;
  outline:none;
  box-shadow: 0 4px 14px rgba(11,11,11,0.03) inset;
}
.input-area button{
  background: linear-gradient(90deg,var(--accent),var(--accent-2));
  border:none;
  padding:10px 16px;
  border-radius:12px;
  color:white;
  font-weight:700;
  cursor:pointer;
  box-shadow: 0 8px 22px rgba(245,133,47,0.12);
}
.input-area .muted{
  background:transparent;
  border:1px solid rgba(0,0,0,0.06);
  color:var(--muted);
  font-weight:600;
}

/* RIGHT: robot + CTA */
.right{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:18px;
  justify-content:center;
}

.robot-wrap{
  width:100%;
  max-width:340px;
  background:linear-gradient(180deg, rgba(255,245,235,0.96), rgba(255,238,223,0.96));
  border-radius:18px;
  padding:20px;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: 0 10px 30px rgba(245,133,47,0.06);
}

/* robot SVG responsive sizing */
.robot { width:220px; height:220px; display:block; }

.cta{
  display:inline-block;
  text-decoration:none;
  background: linear-gradient(90deg,var(--accent) 0%, var(--accent-2) 100%);
  color:white;
  padding:12px 22px;
  border-radius:999px;
  font-weight:700;
  box-shadow: 0 10px 30px rgba(245,133,47,0.18);
}

/* small helper text */
.right small{ color:var(--muted); text-align:center }

/* responsive */
@media (max-width:980px){
  .container{ grid-template-columns: 1fr; padding:20px; gap:18px }
  .right{ order:-1 }
  h1{ font-size:32px }
  .chat-card{ height:380px }
}
</style>
</head>
<body>
  <main class="container" role="main" aria-labelledby="title">
    <section class="left">
      <h1 id="title">Найди свою будущую профессию</h1>
      <p class="lead">Живой диалог с чатом поможет вам выбрать вашу будущую профессию!</p>

      <div class="chat-card" aria-live="polite">
        <div id="messages" class="messages" aria-atomic="false" aria-relevant="additions"></div>

        <div class="input-area" id="input-area">
          <input id="messageInput" type="text" placeholder="Введите сообщение..." autocomplete="off" />
          <button id="sendBtn">Отправить</button>
          <button id="newBtn" class="muted">Новый диалог</button>
        </div>
      </div>
    </section>

    <aside class="right" aria-label="Иллюстрация и действие">
      <div class="robot-wrap" aria-hidden="false">
        <!-- Friendly robot SVG (same visual style) -->
        <svg class="robot" viewBox="0 0 240 240" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Робот-помощник">
          <defs>
            <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0%" stop-color="#fff3ea"/>
              <stop offset="100%" stop-color="#ffd9a6"/>
            </linearGradient>
            <linearGradient id="g2" x1="0" x2="1">
              <stop offset="0%" stop-color="#ff9f43"/>
              <stop offset="100%" stop-color="#f56b1a"/>
            </linearGradient>
          </defs>

          <g transform="translate(20,8)">
            <path d="M30 60c10-50 150-60 170-10 20 50-30 110-90 110S20 120 30 60z" fill="#fff0e5" opacity="0.95"/>
          </g>

          <g transform="translate(38,34)">
            <rect x="40" y="6" rx="28" ry="28" width="120" height="100" fill="url(#g2)"/>
            <circle cx="100" cy="56" r="36" fill="url(#g1)"/>
            <circle cx="90" cy="52" r="5" fill="#2b2b2b"/>
            <circle cx="110" cy="52" r="5" fill="#2b2b2b"/>
            <path d="M88 66 q12 10 24 0" stroke="#2b2b2b" stroke-width="3" fill="none" stroke-linecap="round"/>
            <rect x="28" y="62" rx="10" ry="10" width="22" height="34" fill="#ffb278"/>
            <rect x="170" y="62" rx="10" ry="10" width="22" height="34" fill="#ffb278"/>
            <g transform="translate(104,-16)">
              <rect x="-6" y="-2" width="12" height="18" rx="4" fill="#6b3b1b" />
              <ellipse cx="0" cy="-18" rx="22" ry="22" fill="#ffd98a" stroke="#f59e3a" stroke-width="2"/>
              <path d="M-6 -6 L6 -6" stroke="#f59e3a" stroke-width="2" stroke-linecap="round"/>
            </g>
            <rect x="58" y="110" rx="22" ry="22" width="84" height="70" fill="#ffb86b" opacity="0.95"/>
          </g>
        </svg>
      </div>

      <small>робот - Биг боб</small>
    </aside>
  </main>

  <!-- подключаем статический JS -->
  <script src="{% static 'chat/chat.js' %}"></script>
</body>
</html>
